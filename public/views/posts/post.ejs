<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Nur Blog</title>
    <link href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/style/user.css">
    <link rel="stylesheet" href="/highlightcode/monokai.css" type="text/css">
    <link rel="shortcut icon" href="/images/logo.ico" type="image/x-icon" />
    <style>
    code{
        text-align: left;
    }
    </style>

    
</head>

<body>
    <% include ../assets/top.ejs %>
    <div class="container my-4 bg-white maincontainer pb-3">
        <div class="">
             
        </div>
        <div class="card m-3 ">
            <div class="card-body m-4 noPadding">
                <% if(info !== undefined){%>
                <h1 class="text-danger text-center my-2">
                    <%= info %>
                </h1>

                <% }%>
                <% if(data !== undefined) { %>
                <h3 id="postTitle" class="text-primary text-center myfont">
                    <%= data.title %>
                </h3>
                <p id="oldtime"  class="text-right olddate" style="display: none;">
                    <%= data.date %>
                </p>
                <p id="newtime" class="text-right text-info mt-4 newdate"></p>
                <hr>
                <div style="display : none;" id="old">
                    <%= data.content %>
                </div>
                <div id="content" class="text-right myfont" ></div>

                <% } %>

            </div>
        </div>
        <div class="d-flex justify-content-end">
            <div class="bshare-custom  text-right pr-3"><a title="分享到" href="http://www.bShare.cn/" id="bshare-shareto" class="bshare-more text-danger" style="font-family: myfont;"> ھەمبەھىرلەش </a></div>
        </div>
        
    </div>

    <script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/buttonLite.js#style=-1&amp;uuid=&amp;pophcol=2&amp;lang=zh"></script><script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/bshareC0.js"></script>

    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="/highlightcode/highlight.pack.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>
   

    <script>
        // $(document).ready(function(){
        //     $('#content').html($("#old").text());
        // })
        window.onload = function () {
           


            var content = document.getElementById('content');
            var old = document.getElementById("old").innerText;
            // ie 不支持innerhtml
           
            content.innerHTML= old;
            
            var olddate = document.getElementById('oldtime');
            var newtime = document.getElementById('newtime');
            Date.prototype.Format = function (fmt) {
                var o = {
                    "M+": this.getMonth() + 1, //月份 
                    "d+": this.getDate(), //日 
                    "h+": this.getHours(), //小时 
                    "m+": this.getMinutes(), //分 
                    "s+": this.getSeconds() //秒 
                };
                if (/(y+)/.test(fmt)) { //根据y的长度来截取年
                    fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
                }
                for (var k in o) {
                    if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length ==
                        1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
                }
                return fmt;
            }
            var time1 = new Date(olddate.innerText).Format("yyyy-MM-dd");
            newtime.innerHTML = time1;
        }



     


        // 解决代码高亮问题
        // 我也不知道什么情况，下面虽然是个空函数，但一旦删除它，高亮就不显示了，所以不能删除它
        (function(){
            // document.querySelectorAll('code').forEach(function(item,index){
            //    item.style.textAlign="left";
            // })
        }())
        
    </script>

 
</body>

</html>

